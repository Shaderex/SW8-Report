%!TEX root = ../../super_main.tex

\section{Deriving the Context from Sensors}
\label{sec:deriving_the_context_from_sensors}

To realize the vision (\secref{sec:vision}), the platform must be able to provide data that can be used to derive something about context in which the participants exists. This section describes how different sensors may contribute to training data that describes the environment, in as much detail as possible. We only consider sensors that are commonly found in mobile devices and smart wearables compatible with Android. 

\subsection{Availability of Sensors}

To discover which sensors are commonly available and how different type of devices can contribute, the specifications of some popular smartphones and wearables have been analyzed. \tabref{tab:sensors_in_devices} gives an overview of which sensors are available from each of these devices. 

% The sensor/device table
\input{content/technical_analysis/sensors_in_devices}

\subsection{Continuous Sensors}
A single or few reading form this type of sensor does not give much value to describe a context. However, a continuous stream of readings describes change over time of the context, thus grating value. These sensors are often noisy i.e. the read values jump up and down a bit around the actual expected value even though the device is laying perfectly still.

\subsubsection{Accelerometer}
It is possible to measure the acceleration of the device in three dimensions using the accelerometer, which is also often together with the gyroscope sensor. This sensor will be able to provide measurements that can describe the motion of the wearer or user. This motion is measured as acceleration in $m/s^2$ alongside the three physical axises.

\subsubsection{Orientation (Gyroscope)}
The gyroscope measures the speed of rotation of the device in space. In combination with accelerometer the gyroscope will provide in idea of orientation of how the device relative to Earth's gravitational pull. The rotation of the gyroscope is measured on all three axises as rotation velocity in $rad/s$.

\subsubsection{Compass (Magnetometer)}
The magnetometer is able determine the orientation of the device relative to th earths magnetic field. This sensor can, in combination with the accelerometer be used as, to provide readings like that of a compass. The magnetometer measures the magnetic influence on all threes axises in $\mu T$.

\subsubsection{Barometer}
The barometer approximates the air pressure, in $hPa$ or $mbar$, around the device. The readings from a barometer can be used to estimate the altitude of the device. 


\subsection{Reactive Sensors}
Sensors described in this section are reactive meaning that they output measurements when an event from the environment triggers them. The events are typically used to handle some change in the environment rather than measuring the context.

\subsubsection{Proximity Sensor}
Using an infrared beam, the proximity sensor is possible to to estimate how close the device is to the nearest object facing the sensor. This estimation has higher accuracy in lower distances. The distance is measured in $cm$. Some devices, however, does not measure the distance directly but return binary values that represent ``near'' or ``far'' instead of an actual distance, the output is still outputted as either zero or five centimeter. This sensor is commonly used to turn of the display when the device is placed in the pocket or is held against the ear.

\subsubsection{Ambient Light Sensor}

The ambient light sensor makes it possible to measure the illumination surrounding the device in $lx$. This is commonly used to regulate the background light of the device's screen.


\subsection{On-Demand Sensors}
On-demand sensors are sensors that have do not provide a stream of information but have to be requested whenever a measurement is needed. Measurements from this type of sensors are typically more expensive in terms of battery consumption and computation. An on demand reading can only be given asynchronously as the device would first have to contact multiple information providers such as cell towers and GPS satellites and over time reach a sufficiently accurate reading. To improve efficiency the latest readings are cached, at least for Android, which allows for quick access the most recent result.

\subsubsection{WiFi}
The WiFi radio in mobile devices can be used for more than just pure data communication with the local network and the Internet. Different information about access points and the signal to these access points can for instance be used to approximate indoor location.  
Features of WiFi networks could be reachable access point names, their communication standards, and signal strength. 

\subsubsection{Global Positioning System (GPS)}
The GPS approximates the latitude and longitude of the device based on satellite triangulation. Most modern mobile devices uses Assisted GPS (A-GPS), meaning that the GPS is assisted by the cellular network. The rough positioning is based on the cellular network and the accurate position is triangulated using GPS satellites. Furthermore the GPS provider in Android can also provide estimated information about speed and bearing of the device.

\subsubsection{Cellular Networking}
Cellar networking can, similarly to WiFi be used for more than pure communication as data from different mobile towers and the signal strength to these towers can be useful besides communication. Potentially interesting features could be country code, network code, cell identity (mast identity), cell tower technology type, and signal strength.
\\\\
% Many different types of cellular network with different data layouts 
% We do not find this data very usefull, except for location based - 
We have initially chosen not to include cellular networking as a data source directly. There is a lot of data to be found here, but the features and the layout of the data differs depending on which cellular technology the cell tower supports which adds a lot of complexity. The data from cellular towers which we think is interesting, which is the location of the user, is already indirectly available through A-GPS and cellular positioning which is already build in as a separate APIs in Android. We have therefore decided not include this data source initially but this does not prevent prevent us from adding it later on.  

\subsection{Other Sensors}
\todo[inline]{When we start to use these, describe the nature of their measurements (place them in a category and describe what they measure and what they can be used for)}

\subsubsection{Optical Heart Rate Sensor}
Measures the heart rate, using a light source and a light sensitive sensor to estimate your heart rate. Can be used to detected elevated heart rate levels for instance caused by exercising or heightened levels of stress\todo{Needs source}. Heart rate monitoring can also be used estimate the quality of ones sleep \parencite{guardian_fitness_tracker_rem_sleep}. 

\subsubsection{Ultraviolet (UV) Sensor}
Measures the UV radiation hitting the device. Can be used to estimate whether a person is inside or outside. Can be used to estimate whether a person has spent too much time outside, and thereby in risk of sunburns or skin cancer, by accumulating readings of UV radiation of an entire day.   

\subsubsection{Skin Temperature Sensor}
Measures the temperature of skin touching the device.

\subsubsection{Galvanic Skin Response (GSR) Sensor}
Measures the conductivity of the surface against the device. Can indicate whether or not a person is sweating or more generally the moisture level on a surface. The GSR sensor is commonly used to infer whether a wearable device is being worn at the moment. 